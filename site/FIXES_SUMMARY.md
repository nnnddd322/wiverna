# –†–µ–∑—é–º–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ª–µ–∫—Ü–∏–π –∏ —Ç–µ—Å—Ç–æ–≤
- **–ü—Ä–æ–±–ª–µ–º–∞**: –í `App.tsx` –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü `lecture-view` –∏ `test-view`
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `LectureViewWrapper` –∏ `TestViewWrapper`, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### 2. –û—à–∏–±–∫–∞ 406 –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ç–µ—Å—Ç–æ–≤
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ `TestPage.tsx` (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å mock –¥–∞–Ω–Ω—ã–µ)
- **–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω `TestPage.tsx` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö –∏–∑ Supabase

### 3. Warning –ø—Ä–æ refs –≤ Dialog
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ React (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
- **–°—Ç–∞—Ç—É—Å**: –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –º–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å

### 4. –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- –í `disciplineService.ts` –¥–æ–±–∞–≤–ª–µ–Ω—ã console.log –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω

## üîç –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### 1. –ü–∞–Ω–µ–ª—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –ø—É—Å—Ç–∞—è
**–î–µ–π—Å—Ç–≤–∏—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–î–∏—Å—Ü–∏–ø–ª–∏–Ω—ã"
3. –ù–∞–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:
   ```
   === getMyDisciplines called === { userId: "...", role: "teacher" }
   === Teacher disciplines query result === { data: [...], error: null, count: ... }
   ```
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ `userId`?
   - –ï—Å—Ç—å –ª–∏ `data` –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ?
   - –°–æ–≤–ø–∞–¥–∞–µ—Ç –ª–∏ `teacher_id` –≤ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞—Ö —Å –≤–∞—à–∏–º `userId`?

**–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
–î–∏—Å—Ü–∏–ø–ª–∏–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å `teacher_id`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤–∞—à–∏–º —Ç–µ–∫—É—â–∏–º `user.id`.

**–†–µ—à–µ–Ω–∏–µ:**
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Supabase ‚Üí Table Editor ‚Üí disciplines:
- –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É `disciplines`
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `teacher_id` –¥–ª—è —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –¥–∏—Å—Ü–∏–ø–ª–∏–Ω
- –°—Ä–∞–≤–Ω–∏—Ç–µ —Å –≤–∞—à–∏–º `user.id` (–º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –≤ –ª–æ–≥–∞—Ö)
- –ï—Å–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –æ–±–Ω–æ–≤–∏—Ç–µ `teacher_id` –≤—Ä—É—á–Ω—É—é –≤ Supabase

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–µ–∫—Ü–∏–π
1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—É—é –ª–µ–∫—Ü–∏—é (—Ç–∏–ø: article)
2. –û—Ç–∫—Ä–æ–π—Ç–µ –µ—ë - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å—Å—è `LectureReader`
3. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é (—Ç–∏–ø: presentation)
4. –û—Ç–∫—Ä–æ–π—Ç–µ –µ—ë - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å—Å—è `PresentationViewer`

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Å—Ç - –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏
3. –ü—Ä–æ–π–¥–∏—Ç–µ —Ç–µ—Å—Ç - –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

## üöß –ß—Ç–æ –µ—â—ë –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PPTX
**–°—Ç–∞—Ç—É—Å**: –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
**–¢—Ä–µ–±—É–µ—Ç—Å—è**: 
- Backend API –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ PPTX –≤ JSON/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (pptxgenjs, mammoth –∏ —Ç.–¥.)
- –ò–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–æ–º (CloudConvert API –∏ —Ç.–¥.)

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: 
–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –¥–æ–±–∞–≤–ª—è—è —Å–ª–∞–π–¥—ã –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º.

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
**–°—Ç–∞—Ç—É—Å**: –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
**–¢—Ä–µ–±—É–µ—Ç—Å—è**: 
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase Storage buckets
- –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –ª–µ–∫—Ü–∏–π/–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** –∏ –Ω–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω
2. **–°–æ–æ–±—â–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
   - –ö–∞–∫–æ–π `userId` –≤ –ª–æ–≥–∞—Ö?
   - –°–∫–æ–ª—å–∫–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω –≤–µ—Ä–Ω—É–ª–æ—Å—å (`count`)?
   - –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏?
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Supabase**:
   - –¢–∞–±–ª–∏—Ü–∞ `disciplines` ‚Üí –∑–Ω–∞—á–µ–Ω–∏—è `teacher_id`
   - –°–æ–≤–ø–∞–¥–∞—é—Ç –ª–∏ –æ–Ω–∏ —Å –≤–∞—à–∏–º `userId`?

## üîß –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ Supabase SQL Editor

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã
SELECT id, title, teacher_id, created_at 
FROM disciplines 
ORDER BY created_at DESC;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞)
SELECT auth.uid() as my_user_id;

-- –û–±–Ω–æ–≤–∏—Ç—å teacher_id –¥–ª—è –≤—Å–µ—Ö –¥–∏—Å—Ü–∏–ø–ª–∏–Ω (–∑–∞–º–µ–Ω–∏—Ç–µ YOUR_USER_ID)
UPDATE disciplines 
SET teacher_id = 'YOUR_USER_ID' 
WHERE teacher_id IS NOT NULL;
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:
1. **Ctrl+F5** - –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. **–í—ã–π–¥–∏—Ç–µ –∏ –≤–æ–π–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ** - —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ—Å—Å–∏—é
3. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞** - –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è
