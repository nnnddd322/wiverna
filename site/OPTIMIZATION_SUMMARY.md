# ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è UI

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è PresentationViewer

#### –ü—Ä–æ–±–ª–µ–º–∞:
- –°–ª–∞–π–¥—ã –ø–æ–¥–≤–∏—Å–∞–ª–∏ –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ü—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –∂–¥–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Å–ª–∞–π–¥–∞
- –ü–µ—Ä–≤—ã–π —Å–ª–∞–π–¥ –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è –¥–æ–ª–≥–æ

#### –†–µ—à–µ–Ω–∏–µ:
**–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Å–ª–∞–π–¥–æ–≤:**
```typescript
// –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â–∏–π + 2 —Å–ª–µ–¥—É—é—â–∏—Ö + 1 –ø—Ä–µ–¥—ã–¥—É—â–∏–π
const preloadSlide = (index: number) => {
  const img = new Image();
  img.onload = () => setPreloadedImages(prev => new Set(prev).add(index));
  img.src = slideUrls[index];
};

preloadSlide(currentSlide);     // –¢–µ–∫—É—â–∏–π
preloadSlide(currentSlide + 1); // –°–ª–µ–¥—É—é—â–∏–π
preloadSlide(currentSlide + 2); // –ß–µ—Ä–µ–∑ –æ–¥–∏–Ω
preloadSlide(currentSlide - 1); // –ü—Ä–µ–¥—ã–¥—É—â–∏–π
```

**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ URL:**
```typescript
// –ú–µ–º–æ–∏–∑–∞—Ü–∏—è URL –¥–ª—è –≤—Å–µ—Ö —Å–ª–∞–π–¥–æ–≤
const slideUrls = useMemo(() => {
  if (!slidesData?.slides) return [];
  return slidesData.slides.map(slide => 
    presentationService.getPresentationUrl(slide.path)
  );
}, [slidesData]);
```

**–ü–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è:**
```typescript
// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º loader –ø–æ–∫–∞ —Å–ª–∞–π–¥ –≥—Ä—É–∑–∏—Ç—Å—è
{!preloadedImages.has(currentSlide) && (
  <div className="absolute inset-0 flex items-center justify-center">
    <Loader2 className="w-8 h-8 animate-spin" />
  </div>
)}

// –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Å–ª–∞–π–¥–∞
<img 
  className={`transition-opacity duration-200 ${
    preloadedImages.has(currentSlide) ? 'opacity-100' : 'opacity-0'
  }`}
/>
```

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π:**
```typescript
// useCallback –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤
const nextSlide = useCallback(() => {
  if (slidesData && currentSlide < slidesData.pageCount - 1) {
    setCurrentSlide(prev => prev + 1);
  }
}, [slidesData, currentSlide]);
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å–ª–∞–π–¥–∞–º–∏
- ‚úÖ –ù–µ—Ç –ø–æ–¥–≤–∏—Å–∞–Ω–∏–π
- ‚úÖ –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª–∞–π–¥–æ–≤ –≤ —Ñ–æ–Ω–µ

---

### 2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏

#### –ü—Ä–æ–±–ª–µ–º–∞:
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å "–ó–∞–≥—Ä—É–∑–∫–∞ –ª–µ–∫—Ü–∏–∏..."
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ç–µ—Å—Ç–∞ —Ç–æ–∂–µ "–ó–∞–≥—Ä—É–∑–∫–∞ –ª–µ–∫—Ü–∏–∏..."

#### –†–µ—à–µ–Ω–∏–µ:
**PresentationViewer:**
```typescript
// –ë—ã–ª–æ: "–ó–∞–≥—Ä—É–∑–∫–∞ –ª–µ–∫—Ü–∏–∏..."
// –°—Ç–∞–ª–æ: "–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏..."
<p className="text-white text-lg">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏...</p>
```

**LectureViewWrapper (App.tsx):**
```typescript
// –ë—ã–ª–æ: "–ó–∞–≥—Ä—É–∑–∫–∞ –ª–µ–∫—Ü–∏–∏..."
// –°—Ç–∞–ª–æ: "–ó–∞–≥—Ä—É–∑–∫–∞..." (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤)
<p className="text-gray-600">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

---

### 3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ overflow –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

#### –ü—Ä–æ–±–ª–µ–º–∞:
- –î–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, CONVERTER_SECRET) –≤—ã—Ö–æ–¥–∏–ª–∏ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –¢–µ–∫—Å—Ç –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏–ª—Å—è

#### –†–µ—à–µ–Ω–∏–µ:
**LectureReader.tsx:**
```typescript
// –î–æ–±–∞–≤–ª–µ–Ω break-words –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤
return <p key={index} className="mb-4 break-words">{line}</p>;
```

**CSS –∫–ª–∞—Å—Å `break-words`:**
- `word-wrap: break-word`
- `overflow-wrap: break-word`
- –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç –¥–ª–∏–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –î–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è
- ‚úÖ –ù–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞
- ‚úÖ –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞

---

## üìã –û—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å

### 4. ‚è≥ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–¥–∞–ª–µ–Ω–∏—è
- –£–¥–∞–ª–µ–Ω–∏–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω
- –£–¥–∞–ª–µ–Ω–∏–µ –ª–µ–∫—Ü–∏–π
- –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π
- –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 5. ‚è≥ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–µ–∫—Ü–∏–π (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (–≤–æ–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω

### 6. ‚è≥ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∑–∞–º–µ–Ω—ã
- –ó–∞–º–µ–Ω–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ (–∑–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–≥–æ PPTX)
- –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Å–ª–∞–π–¥–æ–≤
- –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```typescript
// State –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–ª–∞–π–¥–æ–≤
const [preloadedImages, setPreloadedImages] = useState<Set<number>>(new Set());

// useEffect –¥–ª—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–ª–∞–π–¥–∞
useEffect(() => {
  if (!slideUrls || slideUrls.length === 0) return;
  
  const preloadSlide = (index: number) => {
    if (index < 0 || index >= slideUrls.length || preloadedImages.has(index)) return;
    
    const img = new Image();
    img.onload = () => {
      setPreloadedImages(prev => new Set(prev).add(index));
    };
    img.src = slideUrls[index];
  };

  // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Å–µ–¥–Ω–∏–µ —Å–ª–∞–π–¥—ã
  preloadSlide(currentSlide);
  preloadSlide(currentSlide + 1);
  preloadSlide(currentSlide + 2);
  preloadSlide(currentSlide - 1);
}, [currentSlide, slideUrls, preloadedImages]);
```

### –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```typescript
// –í—ã—á–∏—Å–ª—è–µ–º URL —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ slidesData
const slideUrls = useMemo(() => {
  if (!slidesData?.slides) return [];
  return slidesData.slides.map(slide => {
    const path = slide.path;
    return presentationService.getPresentationUrl(path);
  });
}, [slidesData]);

// –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π URL –±–µ–∑ –ø–µ—Ä–µ—Å—á–µ—Ç–∞
const getCurrentSlideUrl = useCallback(() => {
  if (!slideUrls || !slideUrls[currentSlide]) return null;
  return slideUrls[currentSlide];
}, [slideUrls, currentSlide]);
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
```typescript
// useCallback –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
const nextSlide = useCallback(() => {
  if (slidesData && currentSlide < slidesData.pageCount - 1) {
    setCurrentSlide(prev => prev + 1); // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
  }
}, [slidesData, currentSlide]);

const prevSlide = useCallback(() => {
  if (currentSlide > 0) {
    setCurrentSlide(prev => prev - 1);
  }
}, [currentSlide]);
```

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚ùå –ó–∞–¥–µ—Ä–∂–∫–∞ 1-3 —Å–µ–∫—É–Ω–¥—ã –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–ª–∞–π–¥–∞
- ‚ùå –í–∏–¥–∏–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞–∂–¥–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚ùå –ü–æ–¥–≤–∏—Å–∞–Ω–∏—è –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚ùå –ü–µ—Ä–≤—ã–π —Å–ª–∞–π–¥ –≥—Ä—É–∑–∏—Ç—Å—è –¥–æ–ª–≥–æ

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–º–µ–Ω–∞ —Å–ª–∞–π–¥–æ–≤ (<100ms)
- ‚úÖ –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ—è–≤–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É
- ‚úÖ –ü–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫
- ‚úÖ –ü–µ—Ä–≤—ã–π —Å–ª–∞–π–¥ + —Å–ª–µ–¥—É—é—â–∏–µ 2 –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω—ã

---

## üé® UX —É–ª—É—á—à–µ–Ω–∏—è

### –ò–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
```typescript
// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º spinner –ø–æ–∫–∞ —Å–ª–∞–π–¥ –≥—Ä—É–∑–∏—Ç—Å—è
{!preloadedImages.has(currentSlide) && (
  <div className="absolute inset-0 flex items-center justify-center bg-gray-100">
    <Loader2 className="w-8 h-8 text-indigo-600 animate-spin" />
  </div>
)}
```

### –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ
```typescript
// Transition opacity –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è
<img 
  className={`w-full h-auto transition-opacity duration-200 ${
    preloadedImages.has(currentSlide) ? 'opacity-100' : 'opacity-0'
  }`}
/>
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```typescript
// Fallback –ø—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏
onError={(e) => {
  console.error('Error loading slide:', e);
  (e.target as HTMLImageElement).src = 'data:image/svg+xml,...'; // Placeholder
}}
```

---

**–í–µ—Ä—Å–∏—è:** 2.2  
**–î–∞—Ç–∞:** 10 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** 3 –∏–∑ 6 –∑–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
